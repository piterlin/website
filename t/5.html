<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8>
    <meta name="apple-mobile-web-app-capable" content="yes" /><!-- home screen app 全屏 -->
    <meta name="apple-mobile-web-app-status-bar-style" content="black" /><!-- 状态栏 -->
<title>jd3x</title>
<style>
    body {
        color: #31708f !important;
    }
    canvas {
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0
    }
    .nopadding {
        padding: 0 !important;
        margin: 0 !important;
    }
</style>

<script src="js/three.min.js"></script>
<script src="js/stats.min.js"></script>
<script src="js/OBJLoader.js"></script>
<script src="js/MTLLoader.js"></script>
    <script src="js/StereoEffect.js"></script>

    <script src="js/DeviceOrientationControls.js"></script>
<link rel="stylesheet" href='css/bootstrap.3.3.5.min.css'>
<link rel="stylesheet" href='css/bootstrap-theme.3.3.5min.css'>
<script type="text/javascript" src='js/jquery-1.12.3.min.js'></script>
<script type="text/javascript" src='js/bootstrap-3.3.5.min.js'></script>

<script src="js/jd_base3.js"></script>
<script>
$(document).ready(function () {
   init3D();
    m_effect= new THREE.StereoEffect( m_renderer );
    m_effect.setSize( window.innerWidth, window.innerHeight )
    m_mcontrols = new THREE.DeviceOrientationControls( m_camera );
   initSky();
   animate();
   enableParorama();
   buildSomeCube();
   initRayCaster();
   buildModel("./model/wardrobe.mtl","./model/wardrobe.obj",12.5, -7.8, 10.1);
  //  switchModel();
  //  switchModel();
   m_scene.add(buildPointLight(12.5, -2.8, 4.1));

});

function buildSomeCube(){
    buildCube(1.5, -0.4, -0.6,windObjs);
    m_scene.add(buildPointLight(1.5, -0.1, -0.6));
}

function animate() {
    requestAnimationFrame(animate);
    update();
}

function update() {
    paroramaUpdate();
    swing(windObjs);
    swing360(m_models);
  //  m_renderer.render(m_scene, m_camera);
    m_mcontrols.update();
    m_effect.render( m_scene, m_camera );
}
function initSky(){
    var r3 = "texture/big_pic/";
    var urls3 = [
        r3 + "2048_RT.png", r3 + "2048_LF.png",
        r3 + "2048_UP.png", r3 + "2048_DN.png",
        r3 + "2048_BK.png", r3 + "2048_RF.png"
    ];
    var skytexture3=loadSkyTexture( urls3);
    skytexture3.jd_name="jd3";
    m_skybox.push(skytexture3);
    m_scene.add(buildSkyBox(skytexture3))

    var r = "texture/";
    var urls = [
        r + "2048_RT.png", r + "2048_LF.png",
        r + "2048_UP.png", r + "2048_DN.png",
        r + "2048_BK.png", r + "2048_RF.png"
    ];
    var skytexture=loadSkyTexture( urls);
    skytexture.jd_name="jd1";
    m_skybox.push(skytexture);

    var r2 = "texture/small_pink/";
    var urls2 = [
        r2 + "1_RI.jpg", r2 + "1_LF.jpg",
        r2 + "1_UP.jpg", r2 + "1_DN.jpg",
        r2 + "1_BK.jpg", r2 + "1_FR.jpg"
    ];
    var skytexture2=loadSkyTexture( urls2)
    skytexture2.jd_name="jd2";
    m_skybox.push(skytexture2);

    var r4 = "texture/big_pic2/";
    var urls4 = [
        r4 + "2048_RT.png", r4 + "2048_LF.png",
        r4 + "2048_UP.png", r4 + "2048_DN.png",
        r4 + "2048_BK.png", r4 + "2048_RF.png"
    ];
    var skytexture4=loadSkyTexture( urls4);
    skytexture4.jd_name="jd4";
    m_skybox.push(skytexture4);

}
function fulls(){
    launchFullscreen(document.getElementById("3d_content"));
}

function changeRoomByBtn(roomName){
    changeSkybox(roomName);
}
function toOtherPage(){
    window.location.href="./2.html";
}
</script>
</head>
<body style="padding: 0;">

</body>
</html>